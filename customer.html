<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Coffee Shop - Data Customer</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			body {
				background-color: #f8f9fa;
			}
			.navbar {
				margin-bottom: 20px;
			}
			.card {
				border-radius: 12px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			}
			h1 {
				font-weight: bold;
				color: #6f4e37;
			}
			.table thead {
				background-color: #6f4e37;
				color: #fff;
			}
			.btn-custom {
				border-radius: 8px;
			}
		</style>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
			<div class="container-fluid">
				<a class="navbar-brand fw-bold" href="#">â˜• Coffee Shop</a>
				<div>
					<span id="username" class="text-white me-3 fw-bold"></span>
					<a href="index.html" class="btn btn-outline-light btn-sm me-2"
						>Daftar Menu</a
					>
					<a href="customer.html" class="btn btn-warning btn-sm"
						>Data Customer</a
					>
					<button onclick="logout()" class="btn btn-danger btn-sm ms-2">
						Logout
					</button>
				</div>
			</div>
		</nav>

		<div class="container">
			<div class="card p-4">
				<h1 class="mb-4">Daftar Customer</h1>
				<div class="row mb-3">
					<div class="col-auto">
						<a href="create_customer.html" class="btn btn-success btn-sm me-2"
							>Tambah Data Customer</a
						>
					</div>
				</div>
				<table
					class="table table-hover table-bordered align-middle text-center"
				>
					<thead>
						<tr>
							<th>Nama</th>
							<th>Email</th>
							<th>No. HP</th>
							<th>Aksi</th>
						</tr>
					</thead>
					<tbody id="customerList"></tbody>
				</table>
			</div>
		</div>

		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
		<script src="firebase-config.js"></script>
		<script>
			auth.onAuthStateChanged((user) => {
				if (!user) {
					window.location.href = "login.html";
				} else {
					db.ref("users/" + user.uid)
						.once("value")
						.then((snapshot) => {
							if (snapshot.exists()) {
								const data = snapshot.val();
								document.getElementById("username").innerText =
									"Hi, " + data.nama;
							}
						});
				}
			});

			function logout() {
				auth.signOut().then(() => {
					window.location.href = "login.html";
				});
			}
		</script>
		<script src="customer.js"></script>
	</body>
</html>
